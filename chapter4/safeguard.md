# 保障措施
通过对结构方面的介绍后，需要对页面的性能提供自动化的保障措施。保障措施需要提供检测、比对、建议和验证这四项基本功能，并将这些功能融入研发流程之中，自动化地解决性能保障的难题。

## 研发流程
在介绍保障功能之前，对研发流程做个简单的梳理，具体流程如下图：

<img src="https://s3.ax1x.com/2021/01/28/y9lutg.png" style="zoom:50%" /> 

分别需要在功能测试与集成测试环节融入性能保障措施，在相关环节之间形成卡口，避免影响性能的代码改动被发布上线，并且在本地环境（功能测试环节）与集成环境（集成测试环节）中多双重验证，一方面是对问题代码尽早发现尽早解决，另一方面是保证最终上线代码的性能质量。

融入性能保障措施之后的研发流程如下图所示：

<img src="https://s3.ax1x.com/2021/01/28/y91cMn.png" style="zoom:50%" /> 



## 保障工具

如上一小节所述，保障措施是融入在功能测试与集成测试环节中的，之所以选择这两个环节的原因是依赖于这两个环节原本需要执行的自动化UI测试步骤。

在自动化UI测试脚本执行的过程中，完成对量化性能数据的采集工作后，对性能数据进行图形化检测分析，通过对比上一次的分析结果，给出比对结果，以及性能火焰图的图示建议。若比对结果差异较大，性能质量的验证结果将会自动回退到开发环节中。

具体流程如下图：

<img src="https://s3.ax1x.com/2021/01/28/y9Y4gg.png" style="zoom:50%" /> 

通过该流程的运作，可以保障现有的性能优化结果，并可从侧面督促研发人员在保证需求功能质量的同时，也需要多从性能质量方面作出努力。