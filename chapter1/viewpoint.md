# 性能优化分类
性能优化在技术栈维度可分为前端、服务端和客户端三个角度去观察处理。
以不同的视角发现问题，再以多角度的方式去解决问题，做到全方位得实现性能优化的最终效果。

## 前端角度
常规的优化视角，其中包括了绝大多数的优化方式方法，可分为宏观和微观两个类别。

将具备下述特点的前端优化方法归为宏观类别：
- 框架性：通过使用、更换、调整等方式，对所使用的框架进行调优；
- 整体性：通过某种全局调整的方式，通常在代码底层进行调优；
- 通用性：采用通用性的调整方案，批量地修改代码的方式进行调优。

另将涉及到颗粒度较细的前端优化方法归为微观类别：
- 语法相关：调整代码中某些编码语法，以降低逻辑和空间复杂度为主；
- 逻辑相关：对代码逻辑中，不合理及可优化的部分调整逻辑顺序；
- 视图相关：对视图层级结构的深度和每个元素节点所包含的内容调优。


## 服务端角度
容易被忽略的性能调优角度，应用作为一个整体交付的产品，给到的用户体验是综合作用后的结果。

要了解服务端角度的调优方式，先将应用的本地客户端和服务端拆解开来，再探究两者间的关系。

[![sNRNL9.png](https://s3.ax1x.com/2021/01/13/sNRNL9.png)](https://imgchr.com/i/sNRNL9)

通过上图，可见服务端的耗时同样是影响应用性能的关键因素，尝试做下图所示的逻辑改动。

[![sId3qA.png](https://s3.ax1x.com/2021/01/22/sId3qA.png)](https://imgchr.com/i/sId3qA)

不断缩短服务端耗时，以此为思路去做调优，从而达到应用整体性能提升的目的。


## 客户端角度
React Native的本质是存在于客户端提供的容器中，性能调优的过程中可以将自身跳脱到整个本地客户端的角度去思考。

前端与客户端在业务层和架构层都存在千丝万缕的联系，微观上小到交互接口，宏观上大到React Native容器。而跨端的交互必然存在开销，这些开销损耗将影响整个应用的性能。

<img src="https://s3.ax1x.com/2021/01/13/sNforQ.png" style="zoom:60%" />

在不影响实际功能与用户体验的前提下，减少或规避这些开销造成的耗损，是以客户端角度做性能调优的方向之一。

除此之外，客户端存在双平台的客观特性，针对不同平台做出调优方式的变化也是需要考虑的方向之一。同时客户端还存在不同机型并存的客观情况，机型间的软硬件情况各不相同，高中低端的机型运行相同的应用代码，体现出的性能结果也会大相径庭。

所以，针对不同的系统平台，不同的机型配置，做出适用和有效的调优方案，也会是客户端角度性能调优的重点方向。